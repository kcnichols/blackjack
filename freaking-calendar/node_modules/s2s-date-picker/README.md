s2s-date-picker
==============

Introduction
------------

DatePicker is a component that will display an input area and a dropdown. The dropdown contains alternating views between date and time. This is the initial design used for launchpad.

Installation
------------
Install the component using [NPM](https://www.npmjs.com/)


Example:

```sh
$ npm install s2s-date-picker --save
```

Usage
-----
1.	Import module:

```js
  import DatePicker from 's2s-date-picker';
```

1.	Use it!

```js
  <DatePicker
    timestamp={Date.now()}
  />
```

Screenshots/Demo
----------------

#### DatePicker closed

![DatePicker - close](http://i65.tinypic.com/2wnmziv.png)

#### DatePicker open (dayView displayed)

![DatePicker - dayview](http://i68.tinypic.com/2yyb6kn.png)

#### DatePicker open (monthView displayed)
![DatePicker - monthView](http://i66.tinypic.com/16lbcd4.png)

#### DatePicker open (yearView displayed)
![DatePicker - yearView](http://i63.tinypic.com/2crq4j7.png)

#### DatePicker open (timeView displayed)
![DatePicker - timeView ](http://i65.tinypic.com/20r2044.png)


Props
-----


- ***cbSelectDate*** : A callback function that is invoked whenever a change is made to date/time. It is passed a timestamp as an argument. By default it logs out a message that cbSelectDate has not been defined. Example:
    ```
    <DatePicker
        cbSelectDate={(newDate)=>{
          return newDate;
        }}
    />
    ```
  <!-- - closeOnSelect : A boolean that determines if DatePicker calendar should close once a selection is made. By default it is falseExample:
    ```
    <DatePicker
        closeOnSelect={true}
    />
    ``` -->

- ***compStyle*** : An object that defines or overrides component styles. To reference the default component styles please reference the styling section below. Example:
  ```
    <DatePicker
        compStyle={{
          backgroundColor: 'red'
        }}
    />
  ```
- ***disabled*** : A boolean that determines if calendar dropdown is viewable or not. By default it is false. Example:
  ```
    <DatePicker
        disabled={false}
    />
  ```  
- ***displayTime*** : A boolean that will show or hide time value and time dropdown. By default it is true.  **NOTE**: Be sure your displayTime format does not conflict with the dateTimeFormat prop. Example:
  ```
    <DatePicker
        displayTime={false}
    />
  ```  

- ***dateTimeFormat*** : A string that represents the moment.js format that the date and/or time should be displayed in. Default is 'YYYY-MM-DD HH:mm a'. **NOTE**: Be sure your dateTimeFormat prop does not conflict with the isTwelveHour or displayTime prop. Example:
  ```
    <DatePicker
        format="DD/MM/YYYY HH:mm"
    />
  ```  
- ***isTwelveHour*** : A boolean that determines if time will be displayed in a twelve hour or twenty four hour format. Default is true. **NOTE**: Be sure your isTwelveHour prop does not conflict with the dateTimeFormat and displayTime prop. Example:
  ```
    <DatePicker
        isTwelveHour={true}
    />
  ```
- ***locale*** : A string that determines what moment locale to display the date in. Default is 'en'. **NOTE**: Be sure your locale prop does not conflict with the isTwelveHour prop. Example:
  ```
    <DatePicker
        locale="en"
    />
  ```
- ***placeholder*** : A string that is displayed in the DatePicker input area when there is no value available. By default it is "Please enter date". Example:
  ```
    <DatePicker
        placeholder="Please enter date"
    />
  ```
- ***timestamp*** : A number that represents the date/time to be displayed. By default it is the current timestamp(Date.now()). Example:

  ```
    <DatePicker
        timestamp={Date.now()}
    />
  ```

Styling
-------

You can override these default styles using the compStyle prompt. For example, passing the following will set the component backgroundColor to a light gray.

  compStyle = {{ datePicker: {backgroundColor: "#DDD"}}}

  Default Styling:

```js

const styles = {
//// INDEX
  // Component Wrapper
  datePicker : {
    alignItems: 'center',
    backgroundColor: '#f8f9fa',
    color: '#212529',
    cursor: 'pointer',
    display: 'flex',
    flexDirection: 'column'
    // width: '240px' //
  },
  // area that contains Positioned Buttons, Calendar Button, and Input.
  topContainer : {
    display: 'flex',
    position: 'relative',
    width: '100%' // flex 1 collapses s2s-input
  },
  positionedButtonsWrapper : {
    alignItems: 'center',
    backgroundColor: '#f8f9fa',
    borderRadius: '2px',
    cursor: 'pointer',
    //display:  objectPropState.state.dropDownDisplayed ? 'flex' : 'none', //
    flex: 1,
    //paddingRight: objectPropState.props.displayTime? '0px':'100px', //
    position: 'absolute',
    //top: objectPropState.state.dropDownDisplayed == true ? '7px' :'-1000px', //
    left: '50px'
  },

  // Button that is hidden off screen until in picking view
  dateButton : {
    backgroundColor: '#f8f9fa',
    border: '1px solid transparent',
    borderRadius: '2px',
    flex: '1',
    fontSize: '12px',
    height: '30px',
    marginRight: '5px',
    paddingBottom: '0px',
    paddingLeft: '0px',
    paddingRight: '0px',
    paddingTop: '0px',
    width: '75px'
  },
  dateButtonActive : {
    backgroundColor: '#228ae6',
    border: '1px solid #228ae6',
    borderRadius: '2px',
    color: '#f8f9fa',
    flex: '1',
    fontSize: '12px',
    height: '30px',
    marginRight: '5px',
    paddingBottom: '0px',
    paddingLeft: '0px',
    paddingRight: '0px',
    paddingTop: '0px',
    width: '75px'
  },
  dateButtonHover : {
    backgroundColor: '#e9ecef',
    border: '1px solid #e9ecef',
    borderRadius: '2px',
    color: '#212529',
    flex: '1',
    fontSize: '12px',
    height: '30px',
    marginRight: '5px',
    paddingBottom: '0px',
    paddingLeft: '0px',
    paddingRight: '0px',
    paddingTop: '0px',
    width: '75px'
  },

  // Button that is hidden off screen until in picking view
  timeButton : {
    backgroundColor: '#f8f9fa',
    border: '1px solid transparent',
    borderRadius: '2px',
    flex: '1',
    fontSize: '12px',
    height: '30px',
    marginRight: '0px',
    paddingBottom: '0px',
    paddingLeft: '0px',
    paddingRight: '0px',
    paddingTop: '0px',
    width: '75px'
  },
  timeButtonActive : {
    backgroundColor: '#228ae6',
    border: '1px solid #228ae6',
    borderRadius: '2px',
    color: '#f8f9fa',
    flex: '1',
    fontSize: '12px',
    height: '30px',
    marginRight: '0px',
    paddingBottom: '0px',
    paddingLeft: '0px',
    paddingRight: '0px',
    paddingTop: '0px',
    width: '75px'
  },
  timeButtonHover : {
    backgroundColor: '#e9ecef',
    border: '1px solid #e9ecef',
    borderRadius: '2px',
    color: '#212529',
    flex: '1',
    fontSize: '12px',
    height: '30px',
    marginRight: '0px',
    paddingBottom: '0px',
    paddingLeft: '0px',
    paddingRight: '0px',
    paddingTop: '0px',
    width: '75px'
  },
  // input area that is initially displayed.
  inputStyle: {
    alertSvg: {},
    alertSvgArea: {},
    disabledInput: {},
    errorText: {},
    inputAlert: {},
    inputField: {},
    inputFieldNoSVG: {
      paddingBottom: '5px',
      paddingTop: '5px',
      width: '100%'
    },
    inputFieldWithError: {},
    inputFieldWithErrorNoSVG: {},
    inputFieldWithHover: {
      borderBottomRightRadius: '0px'
    },
    inputFieldWithHoverNoSVG: {
      //flex: 1,
      paddingBottom: '5px',
      paddingTop: '5px',
      width: '100%'
    },
    inputComponent: {},
    inputContainer: {
      border: '1px solid transparent'
    },
    inputContainerWithFocus: {
      border: '1px solid #228ae6'
    },
    svgArea: {
      // backgroundColor: '#f1f3f5'
      // border: objectPropState.state.dropDownDisplayed ? '1px solid #228ae6' : '1px solid #dee2e6'
    },
    noSVGArea: {
      //fill: objectPropState.state.dropDownDisplayed ? "#f8f9fa": "#212529"
    },
    svgAreaWithError: {},
    svgAreaWithFocus: {
      // backgroundColor: '#228ae6',
      border: '1px solid #228ae6'
    },
    svgAreaWithHover: {},
    svgStyle: {
      fill: "#f8f9fa"
    },
    svgStyleChange: {
      fill:  '#f8f9fa',
      height: '24px',
      width: '24px'
    },
    svgStyleWithHover: {
      fill: '#212529'
    },
    noSvgStyle: {}
  },
  dropdownWrapper : {
    backgroundColor: '#f8f9fa',
    width: '100%'
  },

  ////CALENDER

  calendarWrapper : {
    userSelect: 'none'
  },
  todayWrapper : {

  },
  today : {
    alignItems: 'center',
    display: 'flex',
    justifyContent: 'center',
    padding: '5px'
  },
  todayButton: {
    backgroundColor: '#4ab7e2',
    borderBottom: 'none',
    borderLeft: 'none',
    borderRight: 'none',
    borderTop: 'none',
    color: '#f8f9fa'
  },

  ////CELL

  cellWrapper : {
    alignItems: 'center',
    borderBottom: '1px solid transparent',
    borderLeft: '1px solid transparent',
    borderRight: '1px solid transparent',
    borderTop: '1px solid transparent',
    borderRadius: '2px',
    display: 'flex',
    flex: '1 1 13%',
    fontSize: '16px',
    height: '30px',
    justifyContent: 'center'
    // paddingBottom: '5px',
    // paddingTop: '5px'
  },
  isSelected : {
    backgroundColor: '#228ae6',
    color: '#f8f9fa'
  },
  cellHoverStyle : {
    // backgroundColor: '#fbfbfb',
    // borderBottom: '1px solid #efefef',
    // borderLeft: '1px solid #efefef',
    // borderRight: '1px solid #efefef',
    // borderTop: '1px solid #efefef',
    // color: '#228ae6'
  },

  ////DAYVIEW
  daysTitleWrapper : {
    alignItems: 'center',
    display: 'flex',
    flex: 1,
    marginBottom: '5px',
    paddingBottom: '10px'
    //paddingTop: '10px'
  },
  daysTitle : {
    cellWrapper : {},
    isSelected : {},
    hoverStyle : {},
    alignItems: 'center',
    display: 'flex',
    flex: 1,
    fontWeight: '500',
    justifyContent: 'center'
  },
  viewHeaderDayView : {
    viewHeader : {},
    back : {},
    header : {},
    next: {},
    hoverStyle: {}
  },
  daysWrapper: {
    display: 'flex',
    flex: '1',
    flexWrap: 'wrap',
    justifyContent: 'space-between',
    paddingBottom: '10px',
    paddingLeft: '20px',
    paddingRight: '20px',
    paddingTop: '10px'
  },
  // days that do not belong to month being displayed
  lonerDays : {
    cellWrapper : {},
    isSelected : {},
    hoverStyle : {},
    color: '#dee2e6'
  },
  selectedDay : {
    // backgroundColor: '#4ab7e2',
    // color: '#f8f9fa'
  },
  days : {},

  ////MONTHVIEW

  monthWrapper : {
    display: 'flex',
    flex: '1',
    flexWrap: 'wrap',
    justifyContent: 'space-between',
    paddingBottom: '10px',
    paddingLeft: '20px',
    paddingRight: '20px',
    paddingTop: '10px'
  },
  month : {
    cellWrapper : {

    },
    isSelected : {},
    hoverStyle : {},
    backgroundColor: '#f1f3f5',
    color: '#212529',
    flex: '1 1 18%',
    marginBottom: '10px',
    marginLeft: '5px',
    marginRight: '5px'

  },
  viewHeaderMonthView : {
    viewHeader : {
      viewHeader : {
        display: 'flex'
      },
      back : {},
      header : {},
      next: {},
      hoverStyle: {}
    }
  },

  ////timeView

  timeWrapper : {
    display: 'flex',
    flex: '1',
    flexDirection: 'column',
    flexWrap: 'wrap',
    justifyContent: 'center'
  },
  timeFormatWrapper : {
    backgroundColor: '#f1f3f5',
    boxShadow: '0 1px 0 0 #ced4da',
    display: 'flex',
    justifyContent: 'center',
    marginBottom: '1px',
    paddingBottom: '5px',
    paddingTop: '5px'

  },
  topContainerTimeView : {
    alignItems: 'center',
    display: 'flex'
  },
  hourWrapper : {
    marginLeft : '10px',
    marginRight : '10px'
  },
  hour : {
    height: '32px',
    paddingLeft: '5px',
    width: '32px'
  },
  minuteWrapper : {
    marginLeft : '10px',
    marginRight : '10px'
  },
  minute : {
      height: '32px',
      paddingLeft: '5px',
      width: '32px'
  },
  dateTime: {
    buttonStyles : {
      backgroundColor: '#f8f9fa',
      borderBottom: 'solid 1px #dee2e6',
      borderLeft: 'solid 1px #dee2e6',
      borderRight: 'solid 1px #dee2e6',
      borderTop: 'solid 1px #dee2e6',
      borderRadius: 'none',
      fontSize: '12px',
      outline: 'none',
      height: '32px',
      paddingBottom: '0px',
      paddingLeft: '0px',
      paddingRight: '0px',
      paddingTop: '0px',
      width: '32px'
    },
    svgStyles : {},
    labelStyles : {
      color: '#212529'
    }
  },
  buttonWrapperStyles : {
    paddingBottom: '10px',
    paddingLeft: '20px',
    paddingRight: '20px',
    paddingTop: '10px'
  },
  buttonArea : {
    //alignItems: 'center',
    //alignSelf: 'center',
    display: 'flex',
    flexWrap: 'wrap'
    //justifyContent: 'center',
    //width: '75%'
  },
  button : {
    //width: '30px'
    flex: '1 1 25%',
    backgroundColor: '#f1f3f5',
    color: '#212529',
    marginBottom: '10px',
    marginLeft: '5px',
    marginRight: '5px'
  },
  backButton : {
    buttonStyles: {
      backgroundColor: '#f1f3f5',
      borderBottom: 'none',
      borderLeft: 'none',
      borderRight: 'none',
      borderTop: 'none',
      borderRadius: '2px',
      marginBottom: '10px',
      marginLeft: '5px',
      marginRight: '5px',
      paddingBottom: '0px',
      paddingLeft: '0px',
      paddingRight: '0px',
      paddingTop: '0px',
      flex: '1 0 25%',
      width: '60px'
    },
    labelStyles: {},
    svgStyles: {
      height: '18px',
      width: '24px'
    }
    // hoverButtonStyles: {
    //   backgroundColor: '#e9ecef'
    // }
  },

  ////VIEWHEADER
  viewHeaderDefault : {
    alignItems: 'center',
    backgroundColor: '#f1f3f5',
    boxShadow: '0 1px 0 0 #ced4da',
    cursor: 'pointer',
    display: 'flex',
    fontSize: '16px',
    justifyContent: 'space-around',
    paddingBottom: '5px',
    paddingTop: '5px',
    userSelect: 'none'
  },
  back : {
    buttonStyles: {
      backgroundColor: 'transparent',
      borderBottom: '1px solid transparent',
      borderLeft: '1px solid transparent',
      borderRight: '1px solid transparent',
      borderTop: '1px solid transparent',
      paddingBottom: '0px',
      paddingLeft: '0px',
      paddingRight: '0px',
      paddingTop: '0px'
    },
    labelStyles: {},
    svgStyles: {
      fill: '#212529'
    },
    hoverSvgStyles: {
      fill: '#4ab7e2'
    }
  },
  header : {
    buttonStyles: {
      backgroundColor: 'transparent',
      borderBottom: '1px solid transparent',
      borderLeft: '1px solid transparent',
      borderRight: '1px solid transparent',
      borderTop: '1px solid transparent',
      paddingBottom: '0px',
      paddingTop: '0px'
    },
    svgStyles : {},
    labelStyles : {},
    hoverButtonStyles: {
      //backgroundColor: '#228ae6'
    },
    hoverLabelStyles: {
      color: '#4ab7e2'
    },
    hoverSvgStyles: {},
    focusButtonStyles: {
      //backgroundColor: '#228ae6'
    },
    focusLabelStyles: {
      //color: '#f8f9fa'
    },
    focusSvgStyles: {  }

  },
  forward: {
    buttonStyles: {
      backgroundColor: 'transparent',
      borderBottom: '1px solid transparent',
      borderLeft: '1px solid transparent',
      borderRight: '1px solid transparent',
      borderTop: '1px solid transparent',
      paddingBottom: '0px',
      paddingLeft: '0px',
      paddingRight: '0px',
      paddingTop: '0px'
    },
    labelStyles: {},
    svgStyles: {
      fill: '#212529'
    },
    hoverSvgStyles: {
      fill: '#4ab7e2'
    }
  },

////YEARVIEW
  yearWrapper : {
    display: 'flex',
    flex: '1',
    flexWrap: 'wrap',
    justifyContent: 'space-between',
    paddingBottom: '10px',
    paddingLeft: '20px',
    paddingRight: '20px',
    paddingTop: '10px'
  },
  viewHeaderYearView : {
    viewHeader : {},
    back : {},
    header : {},
    forward: {},
    hoverStyle: {}
  },
  year: {
    backgroundColor: '#f1f3f5',
    color: '#212529',
    flex: '1 1 18%',
    marginBottom: '10px',
    marginLeft: '5px',
    marginRight: '5px'
  }
};

```


Tests
-----

```sh
$ npm test
```

User Interface Test
-------------------

```sh
$ npm run ui-test
```

TODO
----
- Need to work on state/prop changes
- Change minDate and maxDate from moment.js objects to timestamp numbers
- Address warning on entering a date directly into input (controlled input vs uncontrolled... may be in s2s-input component)

References
----------

-	This **s2s-date-picker** utilizes the following:
	-	moment.js
	-	s2s-base-class
  - s2s-button component.
  - s2s-base-class
  - Immutable
  - moment
  - s2s-input


History
-------

#### 09/14/2016 - Version 1.0.0

-	Initial release

#### 11/02/2016 - Version 1.0.1

-	Updates per code review. Including but not limited to:
  - Removal of unnecessary props and state.
  - Removal of illegal arrow/class funcitons.
  - Removal of all occurrences of Radium.
  - Addition of ImmutableJS dependency.
  - Addition of required componentWillReceiveProps function for performance.
  - Addition of required shouldComponentUPdate function for performance.
  - Changed month names to be shorter.
  - Changed prop name date to dateVal to avoid reserved word issues.
  - Changed momentJS from initializing in the render to the constructor for performance.
  - Added closeOnSelect prop in index.js file.
  - Added locales files to all files using momentJS.
  - Removed unnecessary deutsch line.
  - Absolutely positioned Calendar area.
  - Added a white background color to Calendar area.

#### 09/14/2016 - Version 1.0.2

  -	Updated Build in Package to resolve error

#### 11/16/2016 - Version 1.0.4
  -	Moved callback function above setState.
  - Closes on click away when closeOnSelect is true.

#### 11/22/2016 - Version 1.0.5
  - Closes on click away now functions better.

#### 11/28/2016 - Version 1.0.6
  - added filename

#### 12/28/2016 - Version 2.0.0

-	New date picker.... still work in progress...

#### 12/28/2016 - Version 2.0.1

-	Finished up timeView subcomponent. Will callback parent cbSelectDate when dropdown is closed OR when input blur event fires.

#### 01/03/2017 - Version 2.0.2

-	Fixed hour conversion so that 12pm is not interpreted as 12am

#### 01/03/2017 - Version 2.0.3

-	Code cleanup.  Fixed static filename

#### 01/04/2017 - Version 2.0.4

-	Fixed bug when typing in input area that caused Invalid Date to be displayed. - kcn

#### 01/04/2017 - Version 2.0.5

-	Fixed default dateTimeFormat value to show 12 hour format hours. - ta

#### 1/13/2017 - Version 2.1.0

- separated styles into a separate file

#### 1/16/2017 - Version 2.1.1

- fixed viewheader style issue. - kcn

#### 1/16/2017 - Version 2.1.2

- Code Cleanup.
- Fixing bug where time input and time button do not match. - kcn

#### 1/16/2017 - Version 2.1.3

- Code Cleanup. - kcn

#### 1/27/2017 - Version 2.1.4

- added encoding to input

#### 1/31/2017 - Version 2.1.5

- styling fixes related to theming, removed hard coded width on Component Wrapper

#### 1/31/2017 - Version 2.1.6

- removed arrow function from render

#### 1/31/2017 - Version 2.1.7

- styling fixes related to theming

#### 2/06/2017 - Version 2.2.0

- prefetchStyles function to enhance performance.
- removed obsolete hover states in viewHeader.js

#### 2/08/2017 - Version 2.2.1

- a11y additions to dayView

#### 2/09/2017 - Version 2.2.2

- a11y additions to timeView

#### 2/17/2017 - Version 2.2.3

- removed arrow functions from jsx

#### 2/17/2017 - Version 2.2.4

- fixed timebutton style

#### 2/20/2017 - Version 2.2.6

- theme style updates

#### 2/24/2017 - Version 2.2.8

- updated input, corrected time/date button toggle

#### 2/24/2017 - Version 2.2.9

- corrected time/date button styles

#### 03/21/2017 - Version 2.2.10

- Added unit testing for all components within DatePicker component. - KCN

#### 03/22/2017 - Version 2.3.0

- React 15.4.2 update

#### 08/11/2017 - Version 2.3.1

- decomposed composed subcomponents

License
-------

[MIT License](http://opensource.org/licenses/MIT)
