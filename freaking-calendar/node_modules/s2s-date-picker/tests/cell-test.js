import React from 'react';
import Cell from '../src/cell.js';
import { shallow, mount, render } from 'enzyme';
import sinon from 'sinon';
jest.unmock('../src/cell.js');



describe('Cell Component', ()=>{
  it('renders date value', () => {
    const wrapper = shallow(
      <Cell
          dateVal='Date Value'
      />);
    expect(wrapper.childAt(0).text()).toEqual('Date Value');
  });

  it('fires toggleHoverState', () => {
    const spy1 = sinon.spy(Cell.prototype, 'toggleHoverState');
    const wrapper = shallow(
      <Cell
          dateVal='Date Value'
      />);
    wrapper.setState({ onHover: true });
    wrapper.simulate('mouseover');
    expect(spy1.calledOnce).toEqual(true);
    expect(wrapper.state().onHover).toEqual(false);

    wrapper.setState({ onHover: false });
    wrapper.simulate('mouseover');
    expect(spy1.calledTwice).toEqual(true);
    expect(wrapper.state().onHover).toEqual(true);
  });


});
